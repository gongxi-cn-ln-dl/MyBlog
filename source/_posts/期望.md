---
title: 期望
date: 2022-07-27 20:06:00
tags: [数学]
mathjax: true
excerpt: false
---



本文几乎全篇摘自 [IOI中国国家候选队论文 - 《浅析竞赛中一类数学期望问题的解决方法》2009 - 汤可因](https://github.com/enkerewpo/OI-Public-Library/tree/master/IOI%E4%B8%AD%E5%9B%BD%E5%9B%BD%E5%AE%B6%E5%80%99%E9%80%89%E9%98%9F%E8%AE%BA%E6%96%87/2009/%E6%B1%A4%E5%8F%AF%E5%9B%A0) ~~（抄一遍确实又理解了一些~~

#的数学定义

> 离散的随机变量：能够按一定次序一一列出，其值域为一个或若干个有限或无限区间的随机变量。
>
> 连续的随机变量：变量的取值可以是在某个区间内取任一实数，即变量的取值可以是连续的的随机变量。
>
> 如同时掷的 $n$ 个硬币中有 $k$ 个硬币正面朝上，由于 $k$ 只能取 $[1,20]$ 内的所有自然数，所以 $k$ 可以一一列出， $k$ 是一个离散型随机变量。
>
> 如公交车 $15$ 分钟来一辆，某人在站台等车时间 $t$ 就可以取 $[0,15)$ 内的任意实数，变量的取值可以连续， $t$ 是一个连续型随机变量。

如果 $X$ 是一个离散的随机变量，其输出值为 $x_1,x_2,\dots$ ，各输出值相应的概率是 $p_1,p_2,\dots$ （概率和为 $1$） 那么期望值 $E(X)=\sum_ip_ix_i$。

以掷骰子为例， $X$ 表示掷出的点数，$P(X=1),P(X=2),\cdots,P(X=6)$ 均为 $\dfrac{1}{6}$ ，则 $E(X)=1\times\dfrac{1}{6}+1\times\dfrac{2}{6}+\cdots1\times\dfrac{6}{6}=3.5$

#的线性性质

对于任意随机变量 $X$ 和 $Y$ 以及常量 $a$ 和 $b$ ，有 $E(aX+bY)=aE(X)+bE(Y)$ 

当两个随机变量 $X$ 和 $Y$ **独立** 且各自都有一个已定义的期望时，有 $E(XY)=E(X)\cdot E(Y)$

### 全概率公式

假设 $\{B_n \mid n=1,2,3,\dots\}$ 是一个样本空间的有限或者可数无限的分割，且每个集合 $B_n$ 是一个可测集合，则最任意事件 $A$ 有全概率公式：

$P(A)=\displaystyle\sum_nP(A\mid B_n)P(B_n)$

其中 $P(A \mid B)$ 是 $B$ 发生后 $A$ 的条件概率。

看了一些网上对全概率公式的解释，我觉得全概率公式大概可以表达为 

> 发生某事的概率为 $P(B_n)$ ，发生该事后有 $P(A\mid B_n)$ 的概率发生事件 $A$。
>
> 共 $n$ 个可能发生的事件 $B$ ，那么发生事件 $A$ 的概率就是所有的发生 $B$ 事件后发生事件 $A$ 的概率和。

### 条件期望与全期望公式

当 $X=x_i$ 时，随机变量 $Y$ 的数学期望以 $E(Y\mid X=x_i)$ 表示。

全期望公式：

$E(Y)=E(E(Y\mid X))=\displaystyle\sum_i P(X=x_i)E(Y\mid X=x_i)$

> 如一项工作由甲一个人完成平均需要 $4$ 小时，而乙有 $0.4$ 的概率来帮忙，两个人一起完成平均需要 $3$ 小时。
>
> 若用 $X$ 表示完成该工作的人数，$Y$ 表示完成工作的期望时间，
>
> 代入公式，得 
>
> $\begin{aligned}E(Y)&=P(X=1)\cdot E(Y\mid X=1)+P(X=2)\cdot E(Y\mid X=2)\\&=(1-0.4)\times 4+0.4\times3\\&=3.6\end{aligned}$
